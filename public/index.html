<!DOCTYPE html>
<html ng-app="theTool">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>The Tool!</title>
    <meta name="description" content="">
    <meta name="author" content="ink, cookbook, recipes">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

    <!-- Place favicon.ico and apple-touch-icon(s) here  -->
    <link rel="shortcut icon" href="/ink/img/favicon.ico">

    <!-- Place your CSS here  -->
    <link rel="stylesheet" type="text/css" href="/ink/css/ink.css">
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <link rel="stylesheet" type="text/css" href="/ink/css/font-awesome.css">

    <!--[if lte IE 8 ]>
        <link rel="stylesheet" href="/ink/css/ink-ie.css" type="text/css" media="screen" title="no title" charset="utf-8">
    <![endif]-->

    <!-- Place your Javascript here  -->
    <script src="js/vendor/angular/angular.js"></script>
    <script src="js/vendor/angular/angular-route.js"></script>
    <script src="js/vendor/angular/angular-cookies.js"></script>
    <script src="js/vendor/angular/angular-resource.js"></script>
    <script src="js/vendor/angular/angular-sanitize.js"></script>
    <script src="js/vendor/jquery-1.10.2/jquery.js"></script>

    <script src="/js/theTool.js"></script>

    <script type="text/javascript" src="/ink/js/holder.js"></script>
    <script type="text/javascript" src="/ink/js/ink-all.min.js"></script>
    <script type="text/javascript" src="/ink/js/autoload.js"></script>
    <script src="/js/vendor/markdown/markdown.js"></script>
  </head>
  <body class="ink-drawer" ng-controller="NotificationController">
    <div id="topbar">
      <nav class="ink-navigation ink-grid ie7">
        <ul class="menu horizontal black push-left small-push-center tiny-push-center">
          <li class="hide-all show-tiny show-small"><button class="fa fa-bars left-drawer-trigger"></button></li>
          <li class="logoPlaceholder"><a href="/" class="logoPlaceholder">The Tool!</a></li>
        </ul>
        <ul class="menu horizontal black push-right hide-small hide-tiny">
          <li><a id="modalTrigger"><i class="fa fa-bell"></i><span style="{{notificationsInfo.number == 0 ? '' : 'color: red;'}}">{{notificationsInfo.text}}</span></a></li>
          <li><a href="/#/speakers"><i class="fa fa-globe"></i> Speakers</a></li>
          <li><a href="/#/companies"><i class="fa fa-building-o"></i> Companies</a></li>
          <li><a href="/#/members"><i class="fa fa-users"></i> Members</a></li>
          <li><a href="/#/member/me"><i class="fa fa-user"></i> Me</a></li>
          <li><a href="/logout">Out <i class="fa fa-sign-out"></i></a></li>
        </ul>
      </nav>
    </div>

    <div class="ink-shade fade">
      <div id="modal" class="ink-modal fade" data-trigger="#modalTrigger" data-width="80%" data-height="80%">
        <div class="modal-header">
          <button class="modal-close ink-dismiss"></button>
          <h3>Notifications</h3>
        </div>
        <div class="modal-body" id="modalContent">
          <div class="column-group">
            <div class="all-100">
              <h2 ng-show="loading">Loading...</h2>
              <div ng-hide="loading">
                <a href="/#/{{notification.path}}" ng-repeat="notification in notifications">
                  <div class="all-100 ink-label half-bottom-space align-left {{notification.color}}" style="height: 4em;">
                    <div class="all-5 tiny-30 small-20" style="margin-top: 0.5em; height: 3em;">
                      <img style="border-radius: 3px;" src="https://graph.facebook.com/{{notification.member}}/picture">
                    </div>
                    <p class="all-5 tiny-70 small-80" style="line-height: 4em;">{{notification.text}}</p>
                  </div>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
        // Not required if you are using autoload.js.
        Ink.requireModules(['Ink.Dom.Selector_1','Ink.UI.Modal_1'], function(Selector, Modal){
          var modalElement = Ink.s('#modal');
          var modalObj = new Modal(modalElement, {
            options.disableScroll: false,
            options.closeOnClick: true      //not working
          });
        });
    </script>

    <div class="left-drawer">
      <ul>
        <li><a href="/#/speakers"><i class="fa fa-globe"></i> Speakers</a></li>
        <li><a href="/#/companies"><i class="fa fa-building-o"></i> Companies</a></li>
        <li><a href="/#/members"><i class="fa fa-users"></i> Members</a></li>
        <li><a href="/#/member/me"><i class="fa fa-user"></i> Me</a></li>
        <li><a href="/logout">Logout <i class="fa fa-sign-out"></i></a></li>
      </ul>
    </div>

    <br><br>

    <div class="content-drawer">
      <div class="ink-grid" ng-view></div>
    </div>
    <footer class="ink-grid">
      <script>
      Ink.requireModules(['Ink.UI.Drawer_1'], function(Drawer) {
        var inkDrawer = new Drawer({ sides: 'left', mode: 'push' });
      });
      </script>
      <a href="https://github.com/sinfo/the-tool/issues?state=open" target="_blank"><i class="fa fa-github"></i> Leave Feedback or Request new Features</a>
      <br><br><br>
    </footer>
  </body>
</html>
