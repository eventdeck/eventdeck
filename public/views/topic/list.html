<div class="ink-grid">

  <div class="all-100" infinite-scroll="scroll()">
    <topic-card topic="topic" members="members" me="me" roles="roles" tags="topicTags" comments="comments" notifications="unreadNotifications" ng-repeat="topic in shownTopics(showOpen) | orderBy: ['-' + (unreadFirst ? 'unread' : ''), '-posted'] | limitTo: limit"></topic-card>
  </div>

  <div class="awesome-sidebar" ng-hide="hideSidebar" style="padding-bottom:120px;">
    <div class="header">
      <b title="Click to hide sidebar!">{{showOpen ? 'Open' : 'Closed'}} Topics</b>
      <div ng-click="hideSidebar=!hideSidebar" class="push-right hide-button">HIDE</div>
    </div>

    <div class="button-group small">
      <div class="ink-button green" ng-click="showOpen = true;" style="border-right: 1px solid white;">{{count(true)}} Open</div>
      <div class="ink-button red" ng-click="showOpen = false;" style="border-left: 0px;">{{count(false)}} Closed</div>
    </div>

    <div class="button-group small">
      <div class="ink-button all-80 {{unreadFirst ? 'blue' : ''}}" ng-click="unreadFirst = !unreadFirst">Unread First</div>
    </div>

    <div class="button-group small">
      <div class="ink-button {{searchTopics.target == undefined ? 'blue' : ''}}" ng-click="searchTopics.target = undefined">All topics</div>
      <div class="ink-button {{searchTopics.target == me.id ? 'blue' : ''}}" ng-click="searchTopics.target = me.id">Assigned to me</div>
    </div>

    <div class="button-group small uppercase">
      <div class="ink-button {{!searchTopics.kind ? 'blue' : ''}}" ng-click="searchTopics.kind = undefined" style="padding:6px">All</div>
      <div ng-repeat="kind in kinds" class="ink-button {{searchTopics.kind === kind ? 'blue' : ''}}" ng-click="searchTopics.kind = kind" style="padding:6px">{{kind}}</div>
    </div>


    <div class="button-group small uppercase">
      <div ng-repeat="kind in kinds" class="ink-button green" ng-click="createTopic(kind)" style="padding:4px"><i class="fa fa-plus"></i> {{kind}}</div>
    </div>

    <br>

    <tag-manager tags-array="topicTags" search="searchTopics"></tag-manager>
  </div>

  <div class="awesome-sidebar-button" ng-click="hideSidebar=!hideSidebar" title="Click to show sidebar!" ng-show="hideSidebar">
    <i style="font-size:50px" class="fa fa-caret-left"></i> 
  </div>

</div>