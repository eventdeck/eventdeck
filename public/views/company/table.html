<div class="" id="tableModal">
    <h1>Companies by member</h1>
  <div ng-hide="companies">
    <br>
    <h1>Loading...</h1>
  </div>

  <div class="ink-alert basic success" ng-show="message">
    <p><strong>Sucess!</strong>
      {{message}}
    </p>
  </div>
  <div class="ink-alert basic error" ng-show="error">
    <button class="ink-dismiss">&times;</button>
    <p><strong>Error!</strong>
      {{error}}
    </p>
  </div>

  <div ng-show="companies" class="table-wrapper">
    <div class="table-scrolls">
      <div class="table-collumn" ng-show="member.id!='toolbot'" ng-repeat="member in members | orderBy:'name':'false'">
        <div class="member-cell">
          <a href="#/member/{{member.id}}"><img ng-show="member.facebook" src="https://graph.facebook.com/{{member.facebook}}/picture"/> {{member.name}}</a>
        </div>
        <div class="company-cell" title="{{company.status}}" ng-repeat="company in companies | filter:{member:member.id}:strict" ng-class="company.status.replace(' ','-').toLowerCase()">
          <a href="#/company/{{company.id}}"><img ng-show="member.facebook" src="{{company.img}}"/> {{company.name}}</a>
        </div>
        <div ng-if="checkPermission(member)" class="add-new-cell small">
          <form class="ink-form">
            <div class="control-group">
              <div class="control append-button">
                <span><input type="text" ng-model="newCompany.name" placeholder="Add new company"></span>
                <button ng-click="addCompany(member, newCompany);" class="ink-button">Add</button>
              </div>
            </div>
          </form>
          <ul ng-if="newCompany.name && newCompany.name.length > 1">
            <li ng-repeat="company in companies | filter:newCompany:strict">
              <a ng-click="addCompany(member, company); newCompany.name='';newCompany.id='';">
                <img ng-src="{{company.img}}" style="height: 20px; max-width: 40px"> {{company.name}}
                ( <img ng-src="https://graph.facebook.com/{{getMember(company.member).facebook}}/picture" style="height: 20px; max-width: 40px"> )
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<style>

  .member-cell {
    padding: 10px;
  }
  .member-cell img {
    width: 25px;
  }
  .member-cell a {
    color: #444;
  }

  .company-cell {
    padding: 10px;
    text-align: left;
  }
  .company-cell img {
    height: 25px;
    width: 25px;
  }
  .company-cell a {
    color: #FFF;
  }


  .add-new-cell {
    padding: 5px;
    height: auto;
    text-align: left;
  }
  .add-new-cell ul {
    list-style-type: none;
  }

  .table-wrapper { 
    margin: auto; 
    text-align: center; 
    position: relative;
    margin-bottom: 20px !important;
    width: 100%;
    padding-top: 5px;
  }
  .table-scrolls { 
    overflow-x: scroll;
    overflow-y: hidden;
    height: auto;
    white-space:nowrap
  } 
  .table-collumn { 
    width: 250px;
    box-shadow: 1px 1px 3px #999; 
    margin: 2px;
    cursor: pointer;
    display:inline-block;
    *display:inline;
    *zoom:1;
    vertical-align:top;
  }
</style>