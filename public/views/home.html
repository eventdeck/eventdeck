<div class="ink-grid">
  <div class="column-group">
    <div class="all-100">
      <h1 ng-hide="loading">Recent Activity</h1>
      <h2 ng-show="loading">Loading...</h2>
      <div ng-hide="loading" infinite-scroll="scroll()">
        <div class="activity" ng-repeat="notification in notifications | orderBy:'posted':true | limitTo: limit">
          <div class="all-100" style="margin-bottom:5px">
            <a href="#/member/{{notification.member}}">
              <img ng-src="{{'https://graph.facebook.com/' + getMember(notification.member).facebook + '/picture'}}">
              <b>{{getMember(notification.member).name}}</b>
            </a>
            <a href="#/{{notification.thread.replace('-','/')}}" style="color: #666;">
              {{notification.description}}
              <small title="{{formatDate(notification.posted)}}">({{timeSince(notification.posted)}})</small>
              <span class="ink-label red" ng-show="notification.unread.indexOf(me.id)!=-1">UNREAD!</span>
            </a>
          </div>
          <div >
            <topic-card ng-if="notification.thread.indexOf('topic') !== -1" topic="getTopic(notification.thread.replace('topic-', ''))" members="members" me="me" roles="roles" tags="topicTags" comments="comments" notifications="notifications"></topic-card>
            <speaker-card ng-if="notification.thread.indexOf('speaker')!=-1" speaker-object="getSpeaker(notification.thread.replace('speaker-',''))" members="{{members}}" me="{{me}}" roles="{{roles}}" comments-array="comments"></speaker-card>
            <company-card ng-if="notification.thread.indexOf('company')!=-1" company-object="getCompany(notification.thread.replace('company-',''))" members="{{members}}" me="{{me}}" roles="{{roles}}" comments-array="comments"></company-card>
            <embed-meeting ng-if="notification.thread.indexOf('meeting-') != -1" meeting-id="notification.thread.replace('meeting-', '')" members="members"></embed-meeting>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
